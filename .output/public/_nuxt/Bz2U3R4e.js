import{_ as ae}from"./DlAUqK2U.js";import{V as ne}from"./D7c73pvj.js";import{p as le,m as oe,D as re,x as b,r as f,v as ie,e as se,A as ue,g as p,h as ce,M as de,b as l,F as _,J as B,K as D,L as fe,ab as ve,O as N,P as me,z as xe,B as ge,G as pe,w as T,o as we,a as O,ac as F,ad as he,d as ye}from"./BQqa5Iym.js";import{a as Ve,b as Ce,u as be,V as U,d as Fe,e as Pe,g as ke,f as Ie}from"./M3-FTUdk.js";import{I as Se,u as Re,k as _e,n as Be}from"./CPjqbOgP.js";const Ne=le({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ve(),...Ce()},"VTextarea"),Te=oe()({name:"VTextarea",directives:{Intersect:Se},inheritAttrs:!1,props:Ne(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:u,emit:m,slots:i}=v;const a=re(e,"modelValue"),{isFocused:n,focus:P,blur:j}=be(e),J=b(()=>typeof e.counterValue=="function"?e.counterValue(a.value):(a.value||"").toString().length),L=b(()=>{if(u.maxlength)return u.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function $(t,r){var o,s;!e.autofocus||!t||(s=(o=r[0].target)==null?void 0:o.focus)==null||s.call(o)}const A=f(),w=f(),E=ie(""),h=f(),q=b(()=>e.persistentPlaceholder||n.value||e.active);function k(){var t;h.value!==document.activeElement&&((t=h.value)==null||t.focus()),n.value||P()}function K(t){k(),m("click:control",t)}function Q(t){m("mousedown:control",t)}function W(t){t.stopPropagation(),k(),N(()=>{a.value="",me(e["onClick:clear"],t)})}function X(t){var o;const r=t.target;if(a.value=r.value,(o=e.modelModifiers)!=null&&o.trim){const s=[r.selectionStart,r.selectionEnd];N(()=>{r.selectionStart=s[0],r.selectionEnd=s[1]})}}const x=f(),y=f(+e.rows),I=b(()=>["plain","underlined"].includes(e.variant));se(()=>{e.autoGrow||(y.value=+e.rows)});function g(){e.autoGrow&&N(()=>{if(!x.value||!w.value)return;const t=getComputedStyle(x.value),r=getComputedStyle(w.value.$el),o=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),s=x.value.scrollHeight,V=parseFloat(t.lineHeight),S=Math.max(parseFloat(e.rows)*V+o,parseFloat(r.getPropertyValue("--v-input-control-height"))),R=parseFloat(e.maxRows)*V+o||1/0,d=ge(s??0,S,R);y.value=Math.floor((d-o)/V),E.value=xe(d)})}ue(g),p(a,g),p(()=>e.rows,g),p(()=>e.maxRows,g),p(()=>e.density,g);let c;return p(x,t=>{t?(c=new ResizeObserver(g),c.observe(x.value)):c==null||c.disconnect()}),ce(()=>{c==null||c.disconnect()}),Re(()=>{const t=!!(i.counter||e.counter||e.counterValue),r=!!(t||i.details),[o,s]=de(u),{modelValue:V,...S}=U.filterProps(e),R=Fe(e);return l(U,_({ref:A,modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":I.value},e.class],style:e.style},o,S,{centerAffix:y.value===1&&!I.value,focused:n.value}),{...i,default:d=>{let{id:C,isDisabled:M,isDirty:z,isReadonly:Y,isValid:Z}=d;return l(Pe,_({ref:w,style:{"--v-textarea-control-height":E.value},onClick:K,onMousedown:Q,"onClick:clear":W,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},R,{id:C.value,active:q.value||z.value,centerAffix:y.value===1&&!I.value,dirty:z.value||e.dirty,disabled:M.value,focused:n.value,error:Z.value===!1}),{...i,default:ee=>{let{props:{class:G,...H}}=ee;return l(B,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),D(l("textarea",_({ref:h,class:G,value:a.value,onInput:X,autofocus:e.autofocus,readonly:Y.value,disabled:M.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:k,onBlur:j},H,s),null),[[fe("intersect"),{handler:$},null,{once:!0}]]),e.autoGrow&&D(l("textarea",{class:[G,"v-textarea__sizer"],id:`${H.id}-sizer`,"onUpdate:modelValue":te=>a.value=te,ref:x,readonly:!0,"aria-hidden":"true"},null),[[ve,a.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:r?d=>{var C;return l(B,null,[(C=i.details)==null?void 0:C.call(i,d),t&&l(B,null,[l("span",null,null),l(ke,{active:e.persistentCounter||n.value,value:J.value,max:L.value,disabled:e.disabled},i.counter)])])}:void 0})}),Ie({},A,w,h)}}),Ae={__name:"softai",setup(e){const v=f(""),u=f(null),m=f(!1),i=async()=>{m.value=!0,u.value=null;try{const a=await fetch("/api/softai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:v.value})});if(console.log(a),a.ok){const n=await a.json();u.value=n.message||"No snippet generated"}else console.error("Error:",a.statusText),u.value="Error generating snippet."}catch(a){console.error("Error:",a),u.value="Error generating snippet."}finally{m.value=!1}};return(a,n)=>(we(),pe(ne,null,{default:T(()=>[n[3]||(n[3]=O("div",{class:"response-ai"},null,-1)),l(Be,{class:"prompt-container d-flex flex-column align-center justify-center pa-6"},{default:T(()=>[n[2]||(n[2]=O("h1",{class:"text-h4 font-weight-bold mb-5"},"Generate your best snippets powered by AI",-1)),l(Te,{modelValue:F(v),"onUpdate:modelValue":n[0]||(n[0]=P=>he(v)?v.value=P:null),label:"Enter your requirements","no-resize":"",outlined:"","max-width":"600",rows:"3"},null,8,["modelValue"]),l(_e,{class:"mt-4",color:"primary",onClick:i,loading:F(m),disabled:F(m)||!F(v),rounded:""},{default:T(()=>n[1]||(n[1]=[ye(" Generate Snippet ")])),_:1},8,["loading","disabled"])]),_:1})]),_:1}))}},De=ae(Ae,[["__scopeId","data-v-f160767e"]]);export{De as default};
