import{z as S,A as M,r as c,c as C,a as F,b as l,w as r,o as z,d as v,M as U}from"./CF4SmY_L.js";import{v as B,t as E}from"./DThk3kXI.js";import{V as T,a as q}from"./rjqthufi.js";import{V as N}from"./82mruAn-.js";import{V as k}from"./vBZ7uEaZ.js";import{V as A,a as y,b as R}from"./B71UBj_s.js";import{V as u}from"./C5vsvDJu.js";import"./CofZFTzG.js";const W={class:"intro-img"},O={__name:"healthForm",setup(j){const p=S(),d=M(),t=c({sexe:"",size:null,years:null,weight:null,activity:"",calories:null,macros:{proteins:0,carbs:0,lipids:0}}),n=c(!1),V=["Sedentary","Slightly active","Moderately active","Very active","Extremely active"],f=({sexe:o,size:e,years:a,weight:s})=>o==="Men"?10*s+6.25*e-5*a+5:10*s+6.25*e-5*a-161,b=(o,e)=>o*({Sedentary:1.2,"Slightly active":1.375,"Moderately active":1.55,"Very active":1.725,"Extremely active":1.9}[e]||1.2),x=async()=>{try{n.value=!0;const{sexe:o,size:e,years:a,weight:s,activity:m}=t.value;if(!o||!e||!a||!s||!m)throw new Error("Tous les champs doivent Ãªtre remplis.");const g=f(t.value),i=b(g,m);let h={proteins:Math.round(i*.3/4),carbs:Math.round(i*.5/4),lipids:Math.round(i*.2/9)};const w={...t.value,calories:i,macros:h};d.updateForm(w),await d.saveNutrition(),p.push("/dashboard")}catch(o){console.error("Erreur:",o.message,o.stack)}finally{n.value=!1}};return(o,e)=>(z(),C("section",W,[e[7]||(e[7]=F("div",{class:"overlay"},null,-1)),l(B,{class:"d-flex justify-center align-center",style:{height:"100vh"}},{default:r(()=>[l(T,{class:"glass-card pa-12 rounded-lg shadow-sm",elevation:"3","max-width":"600",color:"transparent"},{default:r(()=>[l(q,{class:"text-h5 font-weight-bold text-center mb-4"},{default:r(()=>e[5]||(e[5]=[v(" Let's build something great ! ")])),_:1}),l(N,{class:"my-5"}),l(k,{class:"d-flex flex-column",onSubmit:U(x,["prevent"])},{default:r(()=>[l(A,{modelValue:t.value.sexe,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.sexe=a),inline:""},{default:r(()=>[l(y,{label:"Men",value:"Men",class:"mr-2"}),l(y,{label:"Women",value:"Women"})]),_:1},8,["modelValue"]),l(u,{modelValue:t.value.size,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.size=a),label:"Size",type:"text",name:"size",variant:"outlined",density:"comfortable",color:"primary",required:""},null,8,["modelValue"]),l(u,{modelValue:t.value.years,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.years=a),label:"Years",type:"text",name:"years",variant:"outlined",density:"comfortable",color:"primary",required:""},null,8,["modelValue"]),l(u,{modelValue:t.value.weight,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.weight=a),label:"Weight",type:"text",name:"weight",variant:"outlined",density:"comfortable",color:"primary",required:""},null,8,["modelValue"]),l(R,{modelValue:t.value.activity,"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.activity=a),items:V,density:"comfortable",label:"Activity",required:""},null,8,["modelValue"]),l(E,{class:"submit-btn",type:"submit",loading:n.value,"aria-label":"Submit",color:"primary"},{default:r(()=>e[6]||(e[6]=[v(" Go to dashboard ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]))}};export{O as default};
