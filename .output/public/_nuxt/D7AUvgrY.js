import{u as q,m as A,r as p,c as S,b as a,w as l,o as z,d as o,x as M,a as v}from"./CnE-bfcQ.js";import{_ as U}from"./DlAUqK2U.js";import{b as B,a as y,V as s}from"./SYp7mbB9.js";import{V as E,a as H,b as N,c as R}from"./z_Twlic2.js";import{V as T}from"./bFXvxxnc.js";import{V as j,a as V,b as I}from"./CkYVpqgB.js";import{V as d}from"./-kXLlAqy.js";import{V as x,a as L}from"./UCIaZ9sb.js";import{V as W}from"./CgUJ9hsA.js";import"./DWGaNmQL.js";import"./CWeKMfNb.js";import"./DQCcqo34.js";const D={class:"health-form-page"},G={class:"d-flex justify-end"},P={__name:"healthForm",setup(Y){const b=q(),c=A(),r=p({sexe:"",size:null,years:null,weight:null,activity:"",calories:null,macros:{proteins:0,carbs:0,lipids:0}}),m=p(!1),g=[{text:"Sedentary (little or no exercise)",value:"sedentaire"},{text:"Lightly active (light exercise 1-3 times/week)",value:"legerement_actif"},{text:"Moderately active (moderate exercise 3-5 times/week)",value:"moderement_actif"},{text:"Very active (intense exercise 6-7 times/week)",value:"tres_actif"},{text:"Extremely active (very intense exercise, physical work)",value:"extremement_actif"}],w=({sexe:i,size:t,years:e,weight:u})=>i==="homme"?10*u+6.25*t-5*e+5:10*u+6.25*t-5*e-161,_=(i,t)=>i*({sedentaire:1.2,legerement_actif:1.375,moderement_actif:1.55,tres_actif:1.725,extremement_actif:1.9}[t]||1.2),h=async()=>{try{m.value=!0;const{sexe:i,size:t,years:e,weight:u,activity:f}=r.value;if(!i||!t||!e||!u||!f)throw new Error("All fields must be filled.");const C=w(r.value),n=_(C,f),k={proteins:Math.round(n*.3/4),carbs:Math.round(n*.5/4),lipids:Math.round(n*.2/9)},F={...r.value,calories:n,macros:k};c.updateForm(F),await c.saveNutrition(),b.push("/overview")}catch(i){console.error("Error:",i.message)}finally{m.value=!1}};return(i,t)=>(z(),S("section",D,[a(B,{class:"d-flex align-center",style:{"min-height":"100vh"}},{default:l(()=>[a(y,{justify:"center"},{default:l(()=>[a(s,{cols:"12",md:"8",lg:"6"},{default:l(()=>[a(E,{class:"health-card pa-8 rounded-lg",elevation:"3"},{default:l(()=>[a(H,{class:"text-center mb-6"},{default:l(()=>[a(N,{class:"text-h4 font-weight-bold mb-2 text-white"},{default:l(()=>t[5]||(t[5]=[o(" Customize Your Experience ")])),_:1}),a(R,{class:"text-white"},{default:l(()=>t[6]||(t[6]=[o(" Help us create your personalized nutrition plan ")])),_:1})]),_:1}),a(T,{onSubmit:M(h,["prevent"])},{default:l(()=>[a(y,null,{default:l(()=>[a(s,{cols:"12"},{default:l(()=>[t[7]||(t[7]=v("div",{class:"text-subtitle-1 mb-3 text-white"},"Gender",-1)),a(j,{modelValue:r.value.sexe,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value.sexe=e),inline:"",class:"mb-4",rules:[e=>!!e||"Please select your gender"]},{default:l(()=>[a(V,{label:"Male",value:"homme",color:"primary"}),a(V,{label:"Female",value:"femme",color:"primary"})]),_:1},8,["modelValue","rules"])]),_:1}),a(s,{cols:"12",md:"6"},{default:l(()=>[a(d,{modelValue:r.value.size,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value.size=e),label:"Height (cm)",type:"number",variant:"outlined",density:"comfortable",color:"primary",min:"100",max:"250",rules:[e=>!!e||"Height is required",e=>e&&e>=100&&e<=250||"Height must be between 100 and 250 cm"],required:""},null,8,["modelValue","rules"])]),_:1}),a(s,{cols:"12",md:"6"},{default:l(()=>[a(d,{modelValue:r.value.weight,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value.weight=e),label:"Weight (kg)",type:"number",variant:"outlined",density:"comfortable",color:"primary",min:"30",max:"250",rules:[e=>!!e||"Weight is required",e=>e&&e>=30&&e<=250||"Weight must be between 30 and 250 kg"],required:""},null,8,["modelValue","rules"])]),_:1}),a(s,{cols:"12",md:"6"},{default:l(()=>[a(d,{modelValue:r.value.years,"onUpdate:modelValue":t[3]||(t[3]=e=>r.value.years=e),label:"Age",type:"number",variant:"outlined",density:"comfortable",color:"primary",min:"15",max:"100",rules:[e=>!!e||"Age is required",e=>e&&e>=15&&e<=100||"Age must be between 15 and 100 years"],required:""},null,8,["modelValue","rules"])]),_:1}),a(s,{cols:"12",md:"6"},{default:l(()=>[a(I,{modelValue:r.value.activity,"onUpdate:modelValue":t[4]||(t[4]=e=>r.value.activity=e),items:g,"item-title":"text","item-value":"value",label:"Activity Level",variant:"outlined",density:"comfortable",color:"primary",rules:[e=>!!e||"Activity level is required"],required:""},{"prepend-inner":l(()=>[a(x,{color:"primary"},{default:l(()=>t[8]||(t[8]=[o("mdi-run")])),_:1})]),_:1},8,["modelValue","rules"])]),_:1})]),_:1}),a(W,{class:"my-6"}),v("div",G,[a(L,{color:"primary",size:"large",type:"submit",loading:m.value,"min-width":"200"},{default:l(()=>[a(x,{start:""},{default:l(()=>t[9]||(t[9]=[o("mdi-check")])),_:1}),t[10]||(t[10]=o(" Continue "))]),_:1},8,["loading"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}},ie=U(P,[["__scopeId","data-v-5d392a12"]]);export{ie as default};
