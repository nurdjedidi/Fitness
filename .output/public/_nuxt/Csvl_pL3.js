import{u as S,m as M,r as c,c as C,a as F,b as l,w as r,o as U,d as v,q}from"./zPG0K0F5.js";import{V as z,b as B}from"./CPTwAk1v.js";import{V as E,a as T}from"./BSfcJ8p0.js";import{V as N}from"./BsAfQTyU.js";import{V as k}from"./TrDAeaSU.js";import{V as R,a as p,b as W}from"./BJNwVgI5.js";import{V as u}from"./08lTOavN.js";import"./BhZ_GBvQ.js";import"./ei8b2BcO.js";import"./DKy8afib.js";import"./CQ_NZckr.js";const j={class:"intro-img"},X={__name:"healthForm",setup(A){const y=S(),d=M(),a=c({sexe:"",size:null,years:null,weight:null,activity:"",calories:null,macros:{proteins:0,carbs:0,lipids:0}}),n=c(!1),V=["Sedentary","Slightly active","Moderately active","Very active","Extremely active"],f=({sexe:o,size:e,years:t,weight:s})=>o==="Men"?10*s+6.25*e-5*t+5:10*s+6.25*e-5*t-161,b=(o,e)=>o*({Sedentary:1.2,"Slightly active":1.375,"Moderately active":1.55,"Very active":1.725,"Extremely active":1.9}[e]||1.2),x=async()=>{try{n.value=!0;const{sexe:o,size:e,years:t,weight:s,activity:m}=a.value;if(!o||!e||!t||!s||!m)throw new Error("Tous les champs doivent Ãªtre remplis.");const g=f(a.value),i=b(g,m);let w={proteins:Math.round(i*.3/4),carbs:Math.round(i*.5/4),lipids:Math.round(i*.2/9)};const h={...a.value,calories:i,macros:w};d.updateForm(h),await d.saveNutrition(),y.push("/overview")}catch(o){console.error("Erreur:",o.message,o.stack)}finally{n.value=!1}};return(o,e)=>(U(),C("section",j,[e[7]||(e[7]=F("div",{class:"overlay"},null,-1)),l(z,{class:"d-flex justify-center align-center",style:{height:"100vh"}},{default:r(()=>[l(E,{class:"glass-card pa-12 rounded-lg shadow-sm",elevation:"3","max-width":"600",color:"transparent"},{default:r(()=>[l(T,{class:"text-h5 font-weight-bold text-center mb-4"},{default:r(()=>e[5]||(e[5]=[v(" Let's build something great ! ")])),_:1}),l(N,{class:"my-5"}),l(k,{class:"d-flex flex-column",onSubmit:q(x,["prevent"])},{default:r(()=>[l(R,{modelValue:a.value.sexe,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.sexe=t),inline:""},{default:r(()=>[l(p,{label:"Men",value:"Men",class:"mr-2"}),l(p,{label:"Women",value:"Women"})]),_:1},8,["modelValue"]),l(u,{modelValue:a.value.size,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.size=t),label:"Size",type:"text",name:"size",variant:"outlined",density:"comfortable",color:"primary",required:""},null,8,["modelValue"]),l(u,{modelValue:a.value.years,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.years=t),label:"Years",type:"text",name:"years",variant:"outlined",density:"comfortable",color:"primary",required:""},null,8,["modelValue"]),l(u,{modelValue:a.value.weight,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.weight=t),label:"Weight",type:"text",name:"weight",variant:"outlined",density:"comfortable",color:"primary",required:""},null,8,["modelValue"]),l(W,{modelValue:a.value.activity,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.activity=t),items:V,density:"comfortable",label:"Activity",required:""},null,8,["modelValue"]),l(B,{class:"submit-btn",type:"submit",loading:n.value,"aria-label":"Submit",color:"primary"},{default:r(()=>e[6]||(e[6]=[v(" Go to dashboard ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]))}};export{X as default};
